var AdobeStock=function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=20)}([function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i={LOCALE:"locale",SEARCH_PARAMETERS:"search_parameters",RESULT_COLUMNS:"result_columns",SIMILAR_IMAGE:"similar_image",CATEGORY:"category_id"},o={GET:"GET",POST:"POST"},s={PROD:1,STAGE:2},u={WORDS:"words",LIMIT:"limit",OFFSET:"offset",ORDER:"order",CREATOR_ID:"creator_id",MEDIA_ID:"media_id",MODEL_ID:"model_id",SERIE_ID:"serie_id",SIMILAR:"similar",SIMILAR_IMAGE:"similar_image",SIMILAR_URL:"similar_url",CATEGORY:"category",FILTERS_3D_TYPE_ID:"filters_3d_type_id",FILTERS_AGE:"filters_age",FILTERS_AREA_PIXELS:"filters_area_pixels",FILTERS_PREMIUM:"filters_premium",FILTERS_COLORS:"filters_colors",FILTERS_CONTENT_TYPE_3D:"filters_content_type_3d",FILTERS_CONTENT_TYPE_ALL:"filters_content_type_all",FILTERS_CONTENT_TYPE_ILLUSTRATION:"filters_content_type_illustration",FILTERS_CONTENT_TYPE_PHOTO:"filters_content_type_photo",FILTERS_CONTENT_TYPE_VECTOR:"filters_content_type_vector",FILTERS_CONTENT_TYPE_VIDEO:"filters_content_type_video",FILTERS_CONTENT_TYPE_TEMPLATE:"filters_content_type_template",FILTERS_HAS_RELEASES:"filters_has_releases",FILTERS_ISOLATED_ON:"filters_isolated_on",FILTERS_OFFENSIVE_2:"filters_offensive_2",FILTERS_ORIENTATION:"filters_orientation",FILTERS_PANORAMIC_ON:"filters_panoramic_on",FILTERS_TEMPLATE_CATEGORY_ID:"filters_template_category_id",FILTERS_TEMPLATE_TYPE_ID:"filters_template_type_id",FILTERS_VIDEO_DURATION:"filters_video_duration",THUMBNAIL_SIZE:"thumbnail_size",GALLERY_ID:"gallery_id"},l={LIMIT:"limit",OFFSET:"offset",THUMBNAIL_SIZE:"thumbnail_size"},c={RELEVANCE:"relevance",CREATION:"creation",POPULARITY:"popularity",NB_DOWNLOADS:"nb_downloads",UNDISCOVERED:"undiscovered"},_={HORIZONTAL:"horizontal",VERTICAL:"vertical",SQUARE:"square",ALL:"all"},f={TRUE:"true",FALSE:"false",ALL:"all"},E={MODELS:1,LIGHTS:2,MATERIALS:3},A={MOBILE:1,WEB:2,PRINT:3,PHOTO:4,FILM:5,ART:6},R={PSDT:1,AIT:2},d={MEDIUM:110,BIG:160,XL:500,XXL:1e3},h={MEDIUM:110,BIG:160,BIG_A:220,BIG_N:240,XL:500,XXL:1e3},S={ONE_WEEK:"1w",ONE_MONTH:"1m",SIX_MONTH:"6m",ONE_YEAR:"1y",TWO_YEAR:"2y",ALL:"all"},y={TEN:"10",TWENTY:"20",THIRTY:"30",ABOVE_THIRTY:"30-",ALL:"all"},T={STRING:0,INTEGER:1,RANGE:2,ARRAY:3},p={TRUE:"true",FALSE:"false",ALL:"all"},m="result_columns[]",P={NB_RESULTS:"nb_results",ID:"id",TITLE:"title",CREATOR_NAME:"creator_name",CREATOR_ID:"creator_id",COUNTRY_NAME:"country_name",WIDTH:"width",HEIGHT:"height",THUMBNAIL_URL:"thumbnail_url",THUMBNAIL_HTML_TAG:"thumbnail_html_tag",THUMBNAIL_WIDTH:"thumbnail_width",THUMBNAIL_HEIGHT:"thumbnail_height",THUMBNAIL_110_URL:"thumbnail_110_url",THUMBNAIL_110_WIDTH:"thumbnail_110_width",THUMBNAIL_110_HEIGHT:"thumbnail_110_height",THUMBNAIL_160_URL:"thumbnail_160_url",THUMBNAIL_160_WIDTH:"thumbnail_160_width",THUMBNAIL_160_HEIGHT:"thumbnail_160_height",THUMBNAIL_220_URL:"thumbnail_220_url",THUMBNAIL_220_WIDTH:"thumbnail_220_width",THUMBNAIL_220_HEIGHT:"thumbnail_220_height",THUMBNAIL_240_URL:"thumbnail_240_url",THUMBNAIL_240_WIDTH:"thumbnail_240_width",THUMBNAIL_240_HEIGHT:"thumbnail_240_height",THUMBNAIL_500_URL:"thumbnail_500_url",THUMBNAIL_500_WIDTH:"thumbnail_500_width",THUMBNAIL_500_HEIGHT:"thumbnail_500_height",THUMBNAIL_1000_URL:"thumbnail_1000_url",THUMBNAIL_1000_WIDTH:"thumbnail_1000_width",THUMBNAIL_1000_HEIGHT:"thumbnail_1000_height",MEDIA_TYPE_ID:"media_type_id",CATEGORY:"category",CATEGORY_HIERARCHY:"category_hierarchy",NB_VIEWS:"nb_views",NB_DOWNLOADS:"nb_downloads",CREATION_DATE:"creation_date",KEYWORDS:"keywords",HAS_RELEASES:"has_releases",COMP_URL:"comp_url",COMP_WIDTH:"comp_width",COMP_HEIGHT:"comp_height",IS_LICENSED:"is_licensed",VECTOR_TYPE:"vector_type",CONTENT_TYPE:"content_type",FRAMERATE:"framerate",DURATION:"duration",STOCK_ID:"stock_id",COMPS:"comps",DETAILS_URL:"details_url",TEMPLATE_TYPE_ID:"template_type_id",TEMPLATE_CATEGORY_IDS:"template_category_ids",MARKETING_TEXT:"marketing_text",DESCRIPTION:"description",SIZE_BYTES:"size_bytes",PREMIUM_LEVEL_ID:"premium_level_id",IS_PREMIUM:"is_premium",LICENSES:"licenses",VIDEO_PREVIEW_URL:"video_preview_url",VIDEO_PREVIEW_WIDTH:"video_preview_width",VIDEO_PREVIEW_HEIGHT:"video_preview_height",VIDEO_PREVIEW_CONTENT_LENGTH:"video_preview_content_length",VIDEO_PREVIEW_CONTENT_TYPE:"video_preview_content_type",VIDEO_SMALL_PREVIEW_URL:"video_small_preview_url",VIDEO_SMALL_PREVIEW_WIDTH:"video_small_preview_width",VIDEO_SMALL_PREVIEW_HEIGHT:"video_small_preview_height",VIDEO_SMALL_PREVIEW_CONTENT_LENGTH:"video_small_preview_content_length",VIDEO_SMALL_PREVIEW_CONTENT_TYPE:"video_small_preview_content_type"},I={THUMBNAIL_110_URL:"thumbnail_110_url",THUMBNAIL_110_WIDTH:"thumbnail_110_width",THUMBNAIL_110_HEIGHT:"thumbnail_110_height",THUMBNAIL_160_URL:"thumbnail_160_url",THUMBNAIL_160_WIDTH:"thumbnail_160_width",THUMBNAIL_160_HEIGHT:"thumbnail_160_height",THUMBNAIL_220_URL:"thumbnail_220_url",THUMBNAIL_220_WIDTH:"thumbnail_220_width",THUMBNAIL_220_HEIGHT:"thumbnail_220_height",THUMBNAIL_240_URL:"thumbnail_240_url",THUMBNAIL_240_WIDTH:"thumbnail_240_width",THUMBNAIL_240_HEIGHT:"thumbnail_240_height",THUMBNAIL_500_URL:"thumbnail_500_url",THUMBNAIL_500_WIDTH:"thumbnail_500_width",THUMBNAIL_500_HEIGHT:"thumbnail_500_height",THUMBNAIL_1000_URL:"thumbnail_1000_url",THUMBNAIL_1000_WIDTH:"thumbnail_1000_width",THUMBNAIL_1000_HEIGHT:"thumbnail_1000_height"},v={EMPTY:{EMPTY_LICENSE:""},IMAGE:{STANDARD:"standard",STANDARD_M:"standard_m",EXTENDED:"extended"},VIDEO:{VIDEO_HD:"video_hd",VIDEO_4K:"video_4k"},VECTOR_ASSETS:{STANDARD:"standard",EXTENDED:"extended"},ASSETS_3D:{STANDARD:"standard"},TEMPLATES:{STANDARD:"standard"}},M={NOT_PURCHASED:"not_purchased",PURCHASED:"purchased",CANCELLED:"cancelled",NOT_POSSIBLE:"not_possible",JUST_PURCHASED:"just_purchased",OVERAGE:"overage"},g={LONGEST_SIDE_MAXIMUM:23e3,LONGEST_SIDE_DOWNSAMPLE_TO:1e3},O={JPG_START_MARKER:65496,APP1_MARKER:65505,EXIF_HEADER:1165519206,TIF_HEADER:18761,ORIENTATION_TAG:274,LAST_MARKER:65280},b=function(){function e(){n(this,e)}return a(e,null,[{key:"QUERY_PARAMS_PROPS",get:function(){return Object.freeze(i)}},{key:"HTTPMETHOD",get:function(){return Object.freeze(o)}},{key:"ENVIRONMENT",get:function(){return Object.freeze(s)}},{key:"SEARCH_PARAMS",get:function(){return Object.freeze(u)}},{key:"LICENSE_HISTORY_SEARCH_PARAMS",get:function(){return Object.freeze(l)}},{key:"SEARCH_PARAMS_ORDER",get:function(){return Object.freeze(c)}},{key:"SEARCH_PARAMS_AGE",get:function(){return Object.freeze(S)}},{key:"SEARCH_PARAMS_ORIENTATION",get:function(){return Object.freeze(_)}},{key:"SEARCH_PARAMS_TYPE",get:function(){return Object.freeze(T)}},{key:"SEARCH_PARAMS_HAS_RELEASES",get:function(){return Object.freeze(f)}},{key:"SEARCH_PARAMS_THUMB_SIZES",get:function(){return Object.freeze(d)}},{key:"LICENSE_HISTORY_SEARCH_PARAMS_THUMB_SIZES",get:function(){return Object.freeze(h)}},{key:"SEARCH_PARAMS_3D_TYPES",get:function(){return Object.freeze(E)}},{key:"SEARCH_PARAMS_TEMPLATE_TYPES",get:function(){return Object.freeze(R)}},{key:"SEARCH_PARAMS_VIDEO_DURATION",get:function(){return Object.freeze(y)}},{key:"SEARCH_PARAMS_TEMPLATE_CATEGORIES",get:function(){return Object.freeze(A)}},{key:"SEARCH_PARAMS_PREMIUM",get:function(){return Object.freeze(p)}},{key:"RESULTS_COLUMNS_TOSTRING",get:function(){return m}},{key:"RESULT_COLUMNS",get:function(){return Object.freeze(P)}},{key:"LICENSE_HISTORY_RESULT_COLUMNS",get:function(){return Object.freeze(I)}},{key:"SEARCH_FILES_ITERATOR_RETURN_ERROR",get:function(){return-1}},{key:"LICENSE_HISTORY_ITERATOR_RETURN_ERROR",get:function(){return-1}},{key:"LICENSE_STATE_PARAMS",get:function(){return Object.freeze(v)}},{key:"PURCHASE_STATE_PARAMS",get:function(){return Object.freeze(M)}},{key:"DOWNSAMPLE_PARAMS",get:function(){return Object.freeze(g)}},{key:"EXIF_FILE_FORMAT_PARAMS",get:function(){return Object.freeze(O)}}]),e}();t.default=b},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(0),u=n(s),l=r(17),c=n(l),_=10,f=function(){function e(){a(this,e)}return o(e,null,[{key:"isString",value:function(e){return"string"==typeof e}},{key:"doesArrayContainValue",value:function(e,t){return e.indexOf(t)>-1}},{key:"doesJSONContainsValue",value:function(t,r){if(!e.isObject(t))return!1;var n=!1;return Object.keys(t).forEach(function(a){t[a]===r?n=!0:"object"===i(t[a])&&(n=n||e.doesJSONContainsValue(t[a],r))}),n}},{key:"isInteger",value:function(e){return!isNaN(e)&&e===parseInt(e,_)}},{key:"isArray",value:function(e){return e.constructor===Array}},{key:"isObject",value:function(e){return e.constructor===Object}},{key:"makeGetAjaxCall",value:function(e,t){return new Promise(function(r,n){var a={url:e,headers:t};c.default.doXhr(a).then(r,n)})}},{key:"makePostAjaxCall",value:function(e,t,r){return new Promise(function(n,a){var i={data:r,url:e,method:u.default.HTTPMETHOD.POST,headers:t};c.default.doXhr(i).then(n,a)})}},{key:"makeMultiPartAjaxCall",value:function(e,t,r){return new Promise(function(n,a){var i={data:r,url:e,method:u.default.HTTPMETHOD.POST,contentType:!1,headers:t};c.default.doXhr(i).then(n,a)})}}]),e}();t.default=f},function(e,t,r){"use strict";function n(e,t){var r=t||0,n=a;return n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]}for(var a=[],i=0;i<256;++i)a[i]=(i+256).toString(16).substr(1);e.exports=n},function(e,t,r){"use strict";(function(t){var r,n=t.crypto||t.msCrypto;if(n&&n.getRandomValues){var a=new Uint8Array(16);r=function(){return n.getRandomValues(a),a}}if(!r){var i=new Array(16);r=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}e.exports=r}).call(t,r(15))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),s=n(o),u=r(0),l=n(u),c=function(){function e(){a(this,e)}return i(e,null,[{key:"validate",value:function(e){var t=Object.keys(l.default.RESULT_COLUMNS).map(function(e){return l.default.RESULT_COLUMNS[e]});e.forEach(function(e){if(!s.default.doesArrayContainValue(t,e))throw new Error("Invalid Result Column '"+e+"'")})}},{key:"validateLicenseHistory",value:function(e){var t=Object.keys(l.default.LICENSE_HISTORY_RESULT_COLUMNS).map(function(e){return l.default.LICENSE_HISTORY_RESULT_COLUMNS[e]});e.forEach(function(e){if(!s.default.doesArrayContainValue(t,e))throw new Error("Invalid Result Column '"+e+"'")})}},{key:"encodeURI",value:function(e){var t=[];return e.forEach(function(e){var r=encodeURIComponent(l.default.RESULTS_COLUMNS_TOSTRING)+"="+encodeURIComponent(e);t.push(r)}),t.join("&")}}]),e}();t.default=c},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),s=n(o),u=r(0),l=n(u),c=10,_={words:{type:l.default.SEARCH_PARAMS_TYPE.STRING,toString:"[words]"},limit:{type:l.default.SEARCH_PARAMS_TYPE.INTEGER,max:64,min:1,toString:"[limit]"},offset:{type:l.default.SEARCH_PARAMS_TYPE.INTEGER,min:0,toString:"[offset]"},order:{type:l.default.SEARCH_PARAMS_TYPE.STRING,exists_in:l.default.SEARCH_PARAMS_ORDER,toString:"[order]"},creator_id:{type:l.default.SEARCH_PARAMS_TYPE.INTEGER,toString:"[creator_id]"},media_id:{type:l.default.SEARCH_PARAMS_TYPE.INTEGER,toString:"[media_id]"},model_id:{type:l.default.SEARCH_PARAMS_TYPE.INTEGER,toString:"[model_id]"},serie_id:{type:l.default.SEARCH_PARAMS_TYPE.INTEGER,toString:"[serie_id]"},similar:{type:l.default.SEARCH_PARAMS_TYPE.INTEGER,toString:"[similar]"},similar_image:{type:l.default.SEARCH_PARAMS_TYPE.INTEGER,min:0,max:1,toString:"[similar_image]"},similar_url:{type:l.default.SEARCH_PARAMS_TYPE.STRING,toString:"[similar_url]"},category:{type:l.default.SEARCH_PARAMS_TYPE.INTEGER,toString:"[category]"},filters_3d_type_id:{type:l.default.SEARCH_PARAMS_TYPE.ARRAY,exists_in:l.default.SEARCH_PARAMS_3D_TYPES,toString:"[filters][3d_type_id][]"},filters_age:{type:l.default.SEARCH_PARAMS_TYPE.STRING,exists_in:l.default.SEARCH_PARAMS_AGE,toString:"[filters][age]"},filters_area_pixels:{type:l.default.SEARCH_PARAMS_TYPE.RANGE,toString:"[filters][area_pixels]"},filters_colors:{type:l.default.SEARCH_PARAMS_TYPE.STRING,toString:"[filters][colors]"},filters_content_type_3d:{type:l.default.SEARCH_PARAMS_TYPE.INTEGER,min:0,max:1,toString:"[filters][content_type:3d]"},filters_content_type_all:{type:l.default.SEARCH_PARAMS_TYPE.INTEGER,min:0,max:1,toString:"[filters][content_type:all]"},filters_content_type_illustration:{type:l.default.SEARCH_PARAMS_TYPE.INTEGER,min:0,max:1,toString:"[filters][content_type:illustration]"},filters_content_type_photo:{type:l.default.SEARCH_PARAMS_TYPE.INTEGER,min:0,max:1,toString:"[filters][content_type:photo]"},filters_content_type_vector:{type:l.default.SEARCH_PARAMS_TYPE.INTEGER,min:0,max:1,toString:"[filters][content_type:vector]"},filters_content_type_video:{type:l.default.SEARCH_PARAMS_TYPE.INTEGER,min:0,max:1,toString:"[filters][content_type:video]"},filters_content_type_template:{type:l.default.SEARCH_PARAMS_TYPE.INTEGER,min:0,max:1,toString:"[filters][content_type:template]"},filters_has_releases:{type:l.default.SEARCH_PARAMS_TYPE.STRING,exists_in:l.default.SEARCH_PARAMS_HAS_RELEASES,toString:"[filters][has_releases]"},filters_isolated_on:{type:l.default.SEARCH_PARAMS_TYPE.INTEGER,min:0,max:1,toString:"[filters][isolated:on]"},filters_offensive_2:{type:l.default.SEARCH_PARAMS_TYPE.INTEGER,min:0,max:1,toString:"[filters][offensive:2]"},filters_orientation:{type:l.default.SEARCH_PARAMS_TYPE.STRING,exists_in:l.default.SEARCH_PARAMS_ORIENTATION,toString:"[filters][orientation]"},filters_panoramic_on:{type:l.default.SEARCH_PARAMS_TYPE.INTEGER,min:0,max:1,toString:"[filters][panoramic:on]"},filters_premium:{type:l.default.SEARCH_PARAMS_TYPE.STRING,exists_in:l.default.SEARCH_PARAMS_PREMIUM,toString:"[filters][premium]"},filters_template_category_id:{type:l.default.SEARCH_PARAMS_TYPE.ARRAY,exists_in:l.default.SEARCH_PARAMS_TEMPLATE_CATEGORIES,toString:"[filters][template_category_id][]"},filters_template_type_id:{type:l.default.SEARCH_PARAMS_TYPE.ARRAY,exists_in:l.default.SEARCH_PARAMS_TEMPLATE_TYPES,toString:"[filters][template_type_id][]"},filters_video_duration:{type:l.default.SEARCH_PARAMS_TYPE.STRING,exists_in:l.default.SEARCH_PARAMS_VIDEO_DURATION,toString:"[filters][video_duration]"},thumbnail_size:{type:l.default.SEARCH_PARAMS_TYPE.INTEGER,exists_in:l.default.SEARCH_PARAMS_THUMB_SIZES,toString:"[thumbnail_size]"},gallery_id:{type:l.default.SEARCH_PARAMS_TYPE.STRING,toString:"[gallery_id]"}},f={limit:{type:l.default.SEARCH_PARAMS_TYPE.INTEGER,max:100,min:1,toString:"[limit]"},offset:{type:l.default.SEARCH_PARAMS_TYPE.INTEGER,min:0,toString:"[offset]"},thumbnail_size:{type:l.default.SEARCH_PARAMS_TYPE.INTEGER,exists_in:l.default.LICENSE_HISTORY_SEARCH_PARAMS_THUMB_SIZES,toString:"[thumbnail_size]"}},E=function(){function e(){a(this,e)}return i(e,null,[{key:"validate",value:function(e){Object.keys(e).forEach(function(t){var r=e[t],n=_[t],a=Object.keys(l.default.SEARCH_PARAMS).map(function(e){return l.default.SEARCH_PARAMS[e]});if(void 0===n||!s.default.doesArrayContainValue(a,t))throw new Error("Search parameter '"+t+"' not supported!");var i=[];switch(n.exists_in&&s.default.isObject(n.exists_in)&&(i=Object.keys(n.exists_in).map(function(e){return n.exists_in[e]})),n.type){case l.default.SEARCH_PARAMS_TYPE.STRING:if(!s.default.isString(r))throw new Error("Invalid value of Search Parameter '"+t+"'. It can only have string value.");if(n.exists_in&&!s.default.doesArrayContainValue(i,r))throw new Error("Invalid value of Search Parameter '"+t+"'. It can only have value from [ "+i.join(", ")+" ].");break;case l.default.SEARCH_PARAMS_TYPE.INTEGER:if(!s.default.isInteger(r))throw new Error("Invalid value of Search Parameter '"+t+"'. It can only have integers.");if(void 0!==n.min&&parseInt(r,c)<n.min)throw new Error("Invalid value of Search Parameter '"+t+"'. It can only have integers >= "+n.min+".");if(void 0!==n.max&&parseInt(r,c)>n.max)throw new Error("Invalid value of Search Parameter '"+t+"'. It can only have integers <= "+n.max+".");break;case l.default.SEARCH_PARAMS_TYPE.RANGE:var o=r.match(/^([0-9]*)-([0-9]*)$/);if(!o)throw new Error("Invalid value of Search Parameter '"+t+"'. It can only have range values. For e.g. 0-250000.");if(o.length<3||o[1]>o[2])throw new Error("Invalid value of Search Parameter '"+t+"'. It can only have range values from lower to higher. For e.g. 0-250000.");break;case l.default.SEARCH_PARAMS_TYPE.ARRAY:if(!s.default.isArray(r))throw new Error("Invalid value of Search Parameter '"+t+"'. It can only have array.");n.exists_in&&r.forEach(function(e){if(!s.default.doesArrayContainValue(i,e))throw new Error("Invalid value of Search Parameter '"+t+"'. It can only have values from [ "+i.join(", ")+" ].")})}})}},{key:"validateLicenseHistory",value:function(e){Object.keys(e).forEach(function(t){var r=e[t],n=f[t],a=Object.keys(l.default.LICENSE_HISTORY_SEARCH_PARAMS).map(function(e){return l.default.LICENSE_HISTORY_SEARCH_PARAMS[e]});if(void 0===n||!s.default.doesArrayContainValue(a,t))throw new Error("Search parameter '"+t+"' not supported!");var i=[];switch(n.exists_in&&s.default.isObject(n.exists_in)&&(i=Object.keys(n.exists_in).map(function(e){return n.exists_in[e]})),n.type){case l.default.SEARCH_PARAMS_TYPE.INTEGER:if(!s.default.isInteger(r))throw new Error("Invalid value of Search Parameter '"+t+"'. It can only have integers.");if(n.exists_in&&!s.default.doesArrayContainValue(i,r))throw new Error("Invalid value of Search Parameter '"+t+"'. It can only have value from [ "+i.join(", ")+" ].");if(void 0!==n.min&&parseInt(r,c)<n.min)throw new Error("Invalid value of Search Parameter '"+t+"'. It can only have integers >= "+n.min+".");if(void 0!==n.max&&parseInt(r,c)>n.max)throw new Error("Invalid value of Search Parameter '"+t+"'. It can only have integers <= "+n.max+".")}})}},{key:"encodeURI",value:function(e){var t=[];return Object.keys(e).forEach(function(r){var n=e[r],a=_[r],i="search_parameters"+a.toString;switch(a.type){case l.default.SEARCH_PARAMS_TYPE.STRING:case l.default.SEARCH_PARAMS_TYPE.INTEGER:case l.default.SEARCH_PARAMS_TYPE.RANGE:t.push(encodeURIComponent(i)+"="+encodeURIComponent(n));break;case l.default.SEARCH_PARAMS_TYPE.ARRAY:e[r].forEach(function(e){t.push(encodeURIComponent(i)+"="+encodeURIComponent(e))})}}),t.join("&")}}]),e}();t.default=E},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var r=e,n=[];return t.locale&&n.push("locale="+encodeURIComponent(t.locale)),t.search_parameters&&n.push(R.default.encodeURI(t.search_parameters)),t.result_columns&&n.push(h.default.encodeURI(t.result_columns)),n.length>0&&(r=r+"?"+n.join("&")),r}function o(e,t){var r=e,n=[];return t.locale&&n.push("locale="+encodeURIComponent(t.locale)),t.search_parameters&&n.push(R.default.encodeURI(t.search_parameters)),t.result_columns&&n.push(h.default.encodeURI(t.result_columns)),n.length>0&&(r=r+"?"+n.join("&")),r}function s(e,t){var r=e,n=[];return t.locale&&n.push(P.default.QUERY_PARAMS_PROPS.LOCALE+"="+encodeURIComponent(t.locale)),t.category_id&&n.push(P.default.QUERY_PARAMS_PROPS.CATEGORY+"="+encodeURIComponent(t.category_id)),n.length>0&&(r=r+"?"+n.join("&")),r}function u(e,t,r,n){var a=e,i=[];return n&&i.push("locale="+encodeURIComponent(n)),t&&i.push("content_id="+encodeURIComponent(t)),r&&i.push("license="+encodeURIComponent(r)),a=a+"?"+i.join("&")}function l(e,t,r){var n=e,a=[];return a.push("content_id="+encodeURIComponent(t)),r&&a.push("license="+encodeURIComponent(r)),n=n+"?"+a.join("&")}function c(e,t,r){var n=e,a=[];return a.push("content_id="+encodeURIComponent(t)),r&&a.push("license="+encodeURIComponent(r)),n=n+"?"+a.join("&")}function _(e,t,r){var n=e,a=[];return a.push("content_id="+encodeURIComponent(t)),a.push("state="+encodeURIComponent(r)),n=n+"?"+a.join("&")}function f(e){var t=P.default.HTTPMETHOD.GET;return e.search_parameters&&1===e.search_parameters.similar_image&&(t=P.default.HTTPMETHOD.POST),t}Object.defineProperty(t,"__esModule",{value:!0});var E=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),A=r(5),R=n(A),d=r(4),h=n(d),S=r(1),y=n(S),T=r(16),p=n(T),m=r(0),P=n(m),I=function(){function e(t){a(this,e),this.config=t}return E(e,[{key:"searchFiles",value:function(e,t){var r=this;return new Promise(function(n,a){try{var o=f(t),s=i(r.config.endpoints.search,t),u={"x-api-key":r.config.x_api_key,"x-product":r.config.x_product};if(e&&(u.Authorization="Bearer "+e),o===P.default.HTTPMETHOD.GET)y.default.makeGetAjaxCall(s,u).then(n,a);else{var l=new FormData;p.default.downsampleAndFixOrientationImage(t.similar_image).then(function(e){l.append("similar_image",e),y.default.makeMultiPartAjaxCall(s,u,l).then(n,a)},function(e){a(e)})}}catch(e){a(e)}})}},{key:"licenseHistory",value:function(e,t){var r=this;return new Promise(function(n,a){try{var i=o(r.config.endpoints.license_history,t),s={"x-api-key":r.config.x_api_key,"x-product":r.config.x_product};e&&(s.Authorization="Bearer "+e),y.default.makeGetAjaxCall(i,s).then(n,a)}catch(e){a(e)}})}},{key:"searchCategory",value:function(e){var t=this;return new Promise(function(r,n){try{var a=s(t.config.endpoints.category,e),i={"x-api-key":t.config.x_api_key,"x-product":t.config.x_product};y.default.makeGetAjaxCall(a,i).then(r,n)}catch(e){n(e)}})}},{key:"searchCategoryTree",value:function(e){var t=this;return new Promise(function(r,n){try{var a=s(t.config.endpoints.category_tree,e),i={"x-api-key":t.config.x_api_key,"x-product":t.config.x_product};y.default.makeGetAjaxCall(a,i).then(r,n)}catch(e){n(e)}})}},{key:"accessMemberProfile",value:function(e,t,r,n){var a=this;return new Promise(function(i,o){try{var s=u(a.config.endpoints.user_profile,t,r,n),l={"x-api-key":a.config.x_api_key,"x-product":a.config.x_product};l.Authorization="Bearer "+e,y.default.makeGetAjaxCall(s,l).then(i,o)}catch(e){o(e)}})}},{key:"memberAbandon",value:function(e,t,r){var n=this;return new Promise(function(a,i){try{var o=_(n.config.endpoints.abandon,t,r),s={"x-api-key":n.config.x_api_key,"x-product":n.config.x_product};s.Authorization="Bearer "+e,y.default.makeGetAjaxCall(o,s).then(a,i)}catch(e){i(e)}})}},{key:"licenseInfo",value:function(e,t,r){var n=this;return new Promise(function(a,i){try{var o=l(n.config.endpoints.license_info,t,r),s={"x-api-key":n.config.x_api_key,"x-product":n.config.x_product};s.Authorization="Bearer "+e,y.default.makeGetAjaxCall(o,s).then(a,i)}catch(e){i(e)}})}},{key:"requestLicense",value:function(e,t,r){var n=this;return new Promise(function(a,i){try{var o=c(n.config.endpoints.license,t,r),s={"x-api-key":n.config.x_api_key,"x-product":n.config.x_product};s.Authorization="Bearer "+e,y.default.makeGetAjaxCall(o,s).then(a,i)}catch(e){i(e)}})}},{key:"downloadAsset",value:function(e,t,r){var n=this;return new Promise(function(a,i){n.licenseInfo(e,t,r).then(function(o){o.contents[t].purchase_details.state!==P.default.PURCHASE_STATE_PARAMS.PURCHASED?n.accessMemberProfile(e,t,r).then(function(e){var t=0!==e.available_entitlement.quota||e.purchase_options.state===P.default.PURCHASE_STATE_PARAMS.OVERAGE;i(t?new Error("Content not licensed but have enough quota or overage plan, so first buy the license!"):new Error("Content not licensed and you do not have enough quota or overage plan!"))},function(e){i(e)}):n.requestLicense(e,t,r).then(function(r){var n=r.contents[t].purchase_details.url;n=n+"?token="+e,a(n)},function(e){i(e)})},function(e){i(e)})})}}]),e}();t.default=I},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),s=n(o),u=r(18),l=r(19),c=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default.ENVIRONMENT.STAGE;if(a(this,e),this.target_env=n,this.endpoints=this.target_env===s.default.ENVIRONMENT.PROD?u:l,!t)throw new Error("Api Key configuration is missing!");if(this.x_api_key=t,!r)throw new Error("Product configuration is missing!");this.x_product=r}return i(e,[{key:"isConfigInitialized",value:function(){return!!(this.target_env&&this.endpoints&&this.x_api_key&&this.x_product)}}]),e}();t.default=c},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){var t={};return Object.keys(e).forEach(function(r){r===R.default.QUERY_PARAMS_PROPS.SEARCH_PARAMETERS||r===R.default.QUERY_PARAMS_PROPS.RESULT_COLUMNS?t[r]=JSON.parse(JSON.stringify(e[r])):t[r]=e[r]}),t}function o(){this.lastQueryParams=this.queryParams}function s(){this.lastQueryParams&&(this.queryParams=this.lastQueryParams),this.lastQueryParams=null}function u(e){this.response=e,this.apiInProgress=!1}function l(){s.call(this),this.apiInProgress=!1}function c(e){var t=this;return new Promise(function(r,n){if(t.apiInProgress)throw new Error("Some other search is already in progress!");try{if(t.apiInProgress=!0,o.call(t),t.queryParams=e,!t.stockApis)throw new Error("Library couldn't initialize properly! Please initialize the library first.");t.stockApis.licenseHistory(t.accessToken,t.queryParams).then(function(e){u.call(t,e),r&&r()},function(e){l.call(t,e),n&&n(e)})}catch(e){l.call(t,e),n&&n(e)}})}Object.defineProperty(t,"__esModule",{value:!0});var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=r(1),E=n(f),A=r(0),R=n(A),d=100,h=function(){function e(t,r,n,i){a(this,e),this.stockApis=t,this.accessToken=r,this.queryParams=n,this.nbResultsPresent=i,this.response={},this.lastQueryParams=null,this.apiInProgress=!1,this.queryParams.search_parameters.limit||(this.queryParams.search_parameters.limit=d),this.queryParams.search_parameters.offset||(this.queryParams.search_parameters.offset=0),this.queryParams.search_parameters.offset-=this.queryParams.search_parameters.limit}return _(e,[{key:"totalSearchFiles",value:function(){return this.queryParams.search_parameters.offset>=0&&this.response.nb_results?this.response.nb_results:R.default.LICENSE_HISTORY_ITERATOR_RETURN_ERROR}},{key:"totalSearchPages",value:function(){return this.queryParams.search_parameters.offset>=0&&this.response.nb_results?Math.ceil(this.response.nb_results/this.queryParams.search_parameters.limit):R.default.LICENSE_HISTORY_ITERATOR_RETURN_ERROR}},{key:"currentSearchPageIndex",value:function(){if(this.queryParams.search_parameters.offset>=0&&this.response.nb_results){var e=this.queryParams.search_parameters.offset;return Math.ceil(e/this.queryParams.search_parameters.limit)}return R.default.LICENSE_HISTORY_ITERATOR_RETURN_ERROR}},{key:"getResponse",value:function(){var e=i(this.response);return!this.nbResultsPresent&&e.nb_results&&delete e.nb_results,e}},{key:"next",value:function(){var e=this;return new Promise(function(t,r){try{var n=i(e.queryParams),a=n.search_parameters.limit;if(n.search_parameters.offset?n.search_parameters.offset+=a:n.search_parameters.offset=a,e.response.nb_results&&n.search_parameters.offset>=e.response.nb_results)throw new Error("No more search results available!");c.call(e,n).then(t,r)}catch(e){r&&r(e)}})}},{key:"previous",value:function(){var e=this;return new Promise(function(t,r){try{var n=i(e.queryParams);if(n.search_parameters.offset-=n.search_parameters.limit,n.search_parameters.offset<0)throw new Error("No more search results available!");c.call(e,n).then(t,r)}catch(e){r&&r(e)}})}},{key:"skipTo",value:function(e){var t=this;return new Promise(function(r,n){try{var a=t.totalSearchPages();if(!E.default.isInteger(e)||e<0||a!==R.default.LICENSE_HISTORY_ITERATOR_RETURN_ERROR&&e>=a)throw new Error("Page index out of bounds!");var o=i(t.queryParams);if(o.search_parameters.offset=e*o.search_parameters.limit,o.search_parameters.offset<0)throw new Error("No more search results available!");c.call(t,o).then(r,n)}catch(e){n&&n(e)}})}}]),e}();t.default=h},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){var t={};return Object.keys(e).forEach(function(r){r===R.default.QUERY_PARAMS_PROPS.SEARCH_PARAMETERS||r===R.default.QUERY_PARAMS_PROPS.RESULT_COLUMNS?t[r]=JSON.parse(JSON.stringify(e[r])):t[r]=e[r]}),t}function o(){this.lastQueryParams=this.queryParams}function s(){this.lastQueryParams&&(this.queryParams=this.lastQueryParams),this.lastQueryParams=null}function u(e){this.response=e,this.apiInProgress=!1}function l(){s.call(this),this.apiInProgress=!1}function c(e){var t=this;return new Promise(function(r,n){if(t.apiInProgress)throw new Error("Some other search is already in progress!");try{if(t.apiInProgress=!0,o.call(t),t.queryParams=e,!t.stockApis)throw new Error("Library couldn't initialize properly! Please initialize the library first.");t.stockApis.searchFiles(t.accessToken,t.queryParams).then(function(e){u.call(t,e),r&&r()},function(e){l.call(t,e),n&&n(e)})}catch(e){l.call(t,e),n&&n(e)}})}Object.defineProperty(t,"__esModule",{value:!0});var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=r(1),E=n(f),A=r(0),R=n(A),d=32,h=function(){function e(t,r,n,i){a(this,e),this.stockApis=t,this.accessToken=r,this.queryParams=n,this.nbResultsPresent=i,this.response={},this.lastQueryParams=null,this.apiInProgress=!1,this.queryParams.search_parameters.limit||(this.queryParams.search_parameters.limit=d),this.queryParams.search_parameters.offset||(this.queryParams.search_parameters.offset=0),this.queryParams.search_parameters.offset-=this.queryParams.search_parameters.limit}return _(e,[{key:"totalSearchFiles",value:function(){return this.queryParams.search_parameters.offset>=0&&this.response.nb_results?this.response.nb_results:R.default.SEARCH_FILES_ITERATOR_RETURN_ERROR}},{key:"totalSearchPages",value:function(){return this.queryParams.search_parameters.offset>=0&&this.response.nb_results?Math.ceil(this.response.nb_results/this.queryParams.search_parameters.limit):R.default.SEARCH_FILES_ITERATOR_RETURN_ERROR}},{key:"currentSearchPageIndex",value:function(){if(this.queryParams.search_parameters.offset>=0&&this.response.nb_results){var e=this.queryParams.search_parameters.offset;return Math.ceil(e/this.queryParams.search_parameters.limit)}return R.default.SEARCH_FILES_ITERATOR_RETURN_ERROR}},{key:"getResponse",value:function(){var e=i(this.response);return!this.nbResultsPresent&&e.nb_results&&delete e.nb_results,e}},{key:"next",value:function(){var e=this;return new Promise(function(t,r){try{var n=i(e.queryParams),a=n.search_parameters.limit;if(n.search_parameters.offset?n.search_parameters.offset+=a:n.search_parameters.offset=a,e.response.nb_results&&n.search_parameters.offset>=e.response.nb_results)throw new Error("No more search results available!");c.call(e,n).then(t,r)}catch(e){r&&r(e)}})}},{key:"previous",value:function(){var e=this;return new Promise(function(t,r){try{var n=i(e.queryParams);if(n.search_parameters.offset-=n.search_parameters.limit,n.search_parameters.offset<0)throw new Error("No more search results available!");c.call(e,n).then(t,r)}catch(e){r&&r(e)}})}},{key:"skipTo",value:function(e){var t=this;return new Promise(function(r,n){try{var a=t.totalSearchPages();if(!E.default.isInteger(e)||e<0||a!==R.default.SEARCH_FILES_ITERATOR_RETURN_ERROR&&e>=a)throw new Error("Page index out of bounds!");var o=i(t.queryParams);if(o.search_parameters.offset=e*o.search_parameters.limit,o.search_parameters.offset<0)throw new Error("No more search results available!");c.call(t,o).then(r,n)}catch(e){n&&n(e)}})}}]),e}();t.default=h},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){var t=e.toLowerCase();if(!_.default.doesJSONContainsValue(l.default.LICENSE_STATE_PARAMS,t))throw new Error("License type not supported!")}function o(e){var t=e.toLowerCase();if(!_.default.doesJSONContainsValue(l.default.PURCHASE_STATE_PARAMS,t))throw new Error("License state not supported!")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),l=n(u),c=r(1),_=n(c),f=function(){function e(){a(this,e)}return s(e,null,[{key:"validateContentLicenseParams",value:function(e,t,r){if(null==e||"string"!=typeof e)throw new Error("access token missing or not of type string!");if(null==t||!1===Number.isInteger(t))throw new Error("contentId missing or contentId is not of type Integer!");if(r&&"string"!=typeof r)throw new Error("license is not of type string!");r&&i(r)}},{key:"validateMemberAbandonLicenseParams",value:function(e,t,r){if(null==e||"string"!=typeof e)throw new Error("access Token missing or not of type string!");if(null==t||!1===Number.isInteger(t))throw new Error("contentId missing or contentId is not of type Integer!");if(null==r||"string"!=typeof r)throw new Error("state missing or state is not of type string!");o(r)}},{key:"validateMemberProfileLicenseParams",value:function(e,t,r){if(null==e||"string"!=typeof e)throw new Error("access token missing or not of type string!");if(t&&!1===Number.isInteger(t))throw new Error("contentId is not of type Integer!");if(r&&"string"!=typeof r)throw new Error("license is not of type string!");r&&i(r)}}]),e}();t.default=f},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),s=n(o),u=r(5),l=n(u),c=r(4),_=n(c),f=r(0),E=n(f),A=function(){function e(){a(this,e)}return i(e,null,[{key:"isNBResultsColumnPresent",value:function(e){return!e.result_columns||-1!==e.result_columns.indexOf(E.default.RESULT_COLUMNS.NB_RESULTS)}},{key:"addResultColumnNBResults",value:function(t){if(t.result_columns&&e.isNBResultsColumnPresent(t))throw new Error("Query parameter already contains nb_results in result_columns");return t.result_columns&&t.result_columns.push(E.default.RESULT_COLUMNS.NB_RESULTS),t}},{key:"validateSearchFileQueryParams",value:function(e,t){if(Object.keys(e).forEach(function(t){if(t===E.default.QUERY_PARAMS_PROPS.LOCALE){if("string"!=typeof e[t])throw new Error("locale expects string only. For e.g. en-US, fr-FR etc.")}else if(t===E.default.QUERY_PARAMS_PROPS.SEARCH_PARAMETERS)l.default.validate(e[t]);else if(t===E.default.QUERY_PARAMS_PROPS.RESULT_COLUMNS)_.default.validate(e[t]);else if(t!==E.default.QUERY_PARAMS_PROPS.SIMILAR_IMAGE)throw new Error("Invalid query parameter '"+t+"'! for file search query")}),e.result_columns&&e.result_columns.indexOf(E.default.RESULT_COLUMNS.IS_LICENSED)>-1&&!t)throw new Error("Access Token missing! Result Column 'is_licensed' requires authentication.");if(e.search_parameters&&1===e.search_parameters.similar_image&&!e.similar_image)throw new Error("Image Data missing! Search parameter similar_image requires similar_image in query parameters")}},{key:"validateLicenseHistoryQueryParams",value:function(e){Object.keys(e).forEach(function(t){if(t===E.default.QUERY_PARAMS_PROPS.LOCALE){if("string"!=typeof e[t])throw new Error("locale expects string only. For e.g. en-US, fr-FR etc.")}else if(t===E.default.QUERY_PARAMS_PROPS.SEARCH_PARAMETERS)l.default.validateLicenseHistory(e[t]);else{if(t!==E.default.QUERY_PARAMS_PROPS.RESULT_COLUMNS)throw new Error("Invalid query parameter '"+t+"'! for license history query");_.default.validateLicenseHistory(e[t])}})}},{key:"validateSearchCategoryQueryParams",value:function(t){if(e.validateSearchCategoryTreeQueryParams(t),!Object.getOwnPropertyDescriptor(t,E.default.QUERY_PARAMS_PROPS.CATEGORY))throw new Error("category_id missing! category search requires category_id in query parameters.")}},{key:"validateSearchCategoryTreeQueryParams",value:function(e){if(e&&!s.default.isObject(e))throw new Error("queryParams expects Object!");Object.keys(e).forEach(function(t){if(t===E.default.QUERY_PARAMS_PROPS.LOCALE){if("string"!=typeof e[t])throw new Error("locale expects string only. For e.g. en-US, fr-FR etc.")}else{if(t!==E.default.QUERY_PARAMS_PROPS.CATEGORY)throw new Error("Invalid query parameter '"+t+"'! for category search query!");if(!Number.isInteger(e[t]))throw new Error("category_id expects integer only. For e.g. 1043, 4526 etc.")}})}}]),e}();t.default=A},function(e,t,r){"use strict";var n=r(13),a=r(14),i=a;i.v1=n,i.v4=a,e.exports=i},function(e,t,r){"use strict";function n(e,t,r){var n=t&&r||0,a=t||[];e=e||{};var o=void 0!==e.clockseq?e.clockseq:u,_=void 0!==e.msecs?e.msecs:(new Date).getTime(),f=void 0!==e.nsecs?e.nsecs:c+1,E=_-l+(f-c)/1e4;if(E<0&&void 0===e.clockseq&&(o=o+1&16383),(E<0||_>l)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=_,c=f,u=o,_+=122192928e5;var A=(1e4*(268435455&_)+f)%4294967296;a[n++]=A>>>24&255,a[n++]=A>>>16&255,a[n++]=A>>>8&255,a[n++]=255&A;var R=_/4294967296*1e4&268435455;a[n++]=R>>>8&255,a[n++]=255&R,a[n++]=R>>>24&15|16,a[n++]=R>>>16&255,a[n++]=o>>>8|128,a[n++]=255&o;for(var d=e.node||s,h=0;h<6;++h)a[n+h]=d[h];return t||i(a)}var a=r(3),i=r(2),o=a(),s=[1|o[0],o[1],o[2],o[3],o[4],o[5]],u=16383&(o[6]<<8|o[7]),l=0,c=0;e.exports=n},function(e,t,r){"use strict";function n(e,t,r){var n=t&&r||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var o=e.random||(e.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[n+s]=o[s];return t||i(o)}var a=r(3),i=r(2);e.exports=n},function(e,t,r){"use strict";var n,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":a(window))&&(n=window)}e.exports=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),s=n(o),u=function(){function e(){a(this,e)}return i(e,null,[{key:"dataURItoBlob",value:function(e){var t=void 0,r=e.split(",");t=r[0].indexOf("base64")>=0?atob(r[1]):decodeURI(r[1]);for(var n=r[0].split(":")[1].split(";")[0],a=new Uint8Array(t.length),i=0;i<t.length;i+=1)a[i]=t.charCodeAt(i);return new Blob([a],{type:n})}},{key:"getImageOrientation",value:function(e){if(!(e&&e instanceof ArrayBuffer&&void 0!==e.byteLength))throw new Error("parameter must be of type  ArrayBuffer!");var t=new DataView(e),r=0,n=t.byteLength,a=void 0,i=void 0,o=2,u=-1;if(t.getUint16(0,!1)!==s.default.EXIF_FILE_FORMAT_PARAMS.JPG_START_MARKER)return-2;for(var l=s.default.EXIF_FILE_FORMAT_PARAMS.LAST_MARKER,c=r&l;o<n;)if(r=t.getUint16(o,!1),o+=2,r===s.default.EXIF_FILE_FORMAT_PARAMS.APP1_MARKER){if(o+=2,t.getUint32(o,!1)!==s.default.EXIF_FILE_FORMAT_PARAMS.EXIF_HEADER)return-1;a=t.getUint16(o+=6,!1)===s.default.EXIF_FILE_FORMAT_PARAMS.TIF_HEADER,o+=t.getUint32(o+4,a),i=t.getUint16(o,a),o+=2;for(var _=0;_<i;_+=1)if(t.getUint16(o+12*_,a)===s.default.EXIF_FILE_FORMAT_PARAMS.ORIENTATION_TAG)return t.getUint16(o+12*_+8,a)}else{if(c!==s.default.EXIF_FILE_FORMAT_PARAMS.LAST_MARKER)break;o+=t.getUint16(o,!1)}return u}},{key:"base64ToArrayBuffer",value:function(e){var t=void 0,r=e.split(",");t=r[0].indexOf("base64")>=0?atob(r[1]):decodeURI(r[1]);for(var n=t.length,a=new Uint8Array(n),i=0;i<n;i+=1)a[i]=t.charCodeAt(i);return a.buffer}},{key:"calculateResizeParams",value:function(e,t){var r=e,n=t;if(Math.max(e,t)>s.default.DOWNSAMPLE_PARAMS.LONGEST_SIDE_MAXIMUM)throw new Error("Image dropped is too large for visual search!");var a=e/t;e>t?e>s.default.DOWNSAMPLE_PARAMS.LONGEST_SIDE_DOWNSAMPLE_TO&&(r=s.default.DOWNSAMPLE_PARAMS.LONGEST_SIDE_DOWNSAMPLE_TO,n=s.default.DOWNSAMPLE_PARAMS.LONGEST_SIDE_DOWNSAMPLE_TO/a):t>s.default.DOWNSAMPLE_PARAMS.LONGEST_SIDE_DOWNSAMPLE_TO&&(r=s.default.DOWNSAMPLE_PARAMS.LONGEST_SIDE_DOWNSAMPLE_TO*a,n=s.default.DOWNSAMPLE_PARAMS.LONGEST_SIDE_DOWNSAMPLE_TO);var i={};return i.width=r,i.height=n,i}},{key:"resizeImage",value:function(t,r){var n=t.naturalWidth,a=t.naturalHeight,i=e.calculateResizeParams(n,a),o=i.width,s=i.height,u=void 0,l=void 0,c=0,_=0,f=0,E=[2,4,5,7],A=void 0;if(1!==r&&0===o&&0===s&&(o=n,s=a),o>0&&s>0){switch(u=document.createElement("canvas"),l=u.getContext("2d"),r){case 5:case 6:f=90,_=-1*s;break;case 3:case 4:f=180,c=-1*o,_=-1*s;break;case 7:case 8:f=270,c=-1*o}0===f||180===f?(u.width=o,u.height=s):(u.width=s,u.height=o),E.indexOf(r)>-1&&(l.translate(s,0),l.scale(-1,1)),f>0&&l.rotate(f*Math.PI/180),l.drawImage(t,c,_,o,s),A=e.dataURItoBlob(u.toDataURL("image/jpeg"))}return A}},{key:"downsampleAndFixOrientationImage",value:function(t){return new Promise(function(r,n){try{if(!/\.(png|jpeg|jpg|gif)$/i.test(t.name))throw new Error("Unsupported image extension.! AdobeStock supports only JPG, JPEG, PNG and GIF!");var a=new FileReader,i=-1,o=new Image;a.onload=function(){o.onerror=function(){n("Unsupported filetype for visual search.!")},o.onload=function(){try{var t=e.resizeImage(o,i);r(t)}catch(e){n(e.message)}},i=e.getImageOrientation(e.base64ToArrayBuffer(a.result)),o.src=a.result},a.readAsDataURL(t)}catch(e){n(e.message)}})}}]),e}();t.default=u},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(12),u=n(s),l=r(0),c=n(l),_=10,f=function(){function e(){a(this,e)}return o(e,null,[{key:"getXhr",value:function(){var e=null;try{e=new XMLHttpRequest}catch(t){try{e=new window.ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}}return e}},{key:"doXhr",value:function(t){return new Promise(function(r,n){try{var a={async:!0,method:c.default.HTTPMETHOD.GET,crossDomain:!1,contentType:"application/x-www-form-urlencoded",headers:{"cache-control":"no-cache","x-request-id":(0,u.default)()}},o=i({},a,t),s=e.getXhr();if(!s)throw new Error("Browser doesn't support XHR!");t.headers&&(o.headers=i({},a.headers,t.headers)),s.onreadystatechange=function(){4===this.readyState&&200===this.status?r&&r(this.response):4===this.readyState&&4===parseInt(this.status/100,_)?n&&n(this.response):4===this.readyState&&0!==this.status?n&&n(this.statusText):4===this.readyState&&n&&n(new Error("Request got aborted!"))},s.open(o.method,o.url,o.async),Object.keys(o.headers).forEach(function(e){s.setRequestHeader(e,o.headers[e])}),"string"==typeof o.contentType&&o.contentType&&s.setRequestHeader("Content-type",o.contentType),o.crossDomain&&(s.withCredentials=!0),s.responseType="json",o.method===c.default.HTTPMETHOD.GET?s.send(null):s.send(o.data)}catch(e){n&&n(e)}})}}]),e}();t.default=f},function(e,t){e.exports={search:"https://stock.adobe.io/Rest/Media/1/Search/Files",license_history:"https://stock.adobe.io/Rest/Libraries/1/Member/LicenseHistory",category:"https://stock.adobe.io/Rest/Media/1/Search/Category",category_tree:"https://stock.adobe.io/Rest/Media/1/Search/CategoryTree",license:"https://stock.adobe.io/Rest/Libraries/1/Content/License",license_info:"https://stock.adobe.io/Rest/Libraries/1/Content/Info",user_profile:"https://stock.adobe.io/Rest/Libraries/1/Member/Profile",abandon:"https://stock.adobe.io/Rest/Libraries/1/Member/Abandon"}},function(e,t){e.exports={search:"https://stock-stage.adobe.io/Rest/Media/1/Search/Files",license_history:"https://stock-stage.adobe.io/Rest/Libraries/1/Member/LicenseHistory",category:"https://stock-stage.adobe.io/Rest/Media/1/Search/Category",category_tree:"https://stock-stage.adobe.io/Rest/Media/1/Search/CategoryTree",license:"https://stock-stage.adobe.io/Rest/Libraries/1/Content/License",license_info:"https://stock-stage.adobe.io/Rest/Libraries/1/Content/Info",user_profile:"https://stock-stage.adobe.io/Rest/Libraries/1/Member/Profile",abandon:"https://stock-stage.adobe.io/Rest/Libraries/1/Member/Abandon"}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){return!(!this.config.isConfigInitialized()||!this.stockApis)}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(1),l=n(u),c=r(7),_=n(c),f=r(6),E=n(f),A=r(9),R=n(A),d=r(8),h=n(d),S=r(0),y=n(S),T=r(11),p=n(T),m=r(10),P=n(m),I=function(){function e(t,r,n){a(this,e),this.config=new _.default(t,r,n),this.stockApis=new E.default(this.config)}return s(e,[{key:"searchFilesByCategory",value:function(e,t,r,n,a){var i={locale:r,search_parameters:{category:t}};if(n&&l.default.isObject(n))o(i.search_parameters,n);else if(n&&!l.default.isObject(n))throw new Error("filters expects Object!");return this.searchFiles(e,i,a)}},{key:"searchSimilarFilesById",value:function(e,t,r,n,a){var i={locale:r,search_parameters:{similar:t}};if(n&&l.default.isObject(n))o(i.search_parameters,n);else if(n&&!l.default.isObject(n))throw new Error("filters expects Object!");return this.searchFiles(e,i,a)}},{key:"searchFilesByKeywords",value:function(e,t,r,n,a){var i={locale:r,search_parameters:{words:t}};if(n&&l.default.isObject(n))o(i.search_parameters,n);else if(n&&!l.default.isObject(n))throw new Error("filters expects Object!");return this.searchFiles(e,i,a)}},{key:"searchFiles",value:function(e,t,r){var n={},a=!1;if(!i.call(this))throw new Error("Library not initialized! Please initialize the library first.");if(t&&l.default.isObject(t))n=t;else if(t&&!l.default.isObject(t))throw new Error("queryParams expects Object!");if(r&&l.default.isArray(r))n.result_columns=r;else if(r&&!l.default.isArray(r))throw new Error("resultColumns expects Array!");return p.default.validateSearchFileQueryParams(n,e),a=p.default.isNBResultsColumnPresent(n),a||(n=p.default.addResultColumnNBResults(n)),new R.default(this.stockApis,e,n,a)}},{key:"licenseHistory",value:function(e,t,r){var n={},a=!0;if(!i.call(this))throw new Error("Library not initialized! Please initialize the library first.");if(t&&l.default.isObject(t))n=t;else if(t&&!l.default.isObject(t))throw new Error("queryParams expects Object!");if(r&&l.default.isArray(r))n.result_columns=r;else if(r&&!l.default.isArray(r))throw new Error("resultColumns expects Array!");return p.default.validateLicenseHistoryQueryParams(n),new h.default(this.stockApis,e,n,a)}},{key:"searchCategory",value:function(e){if(!i.call(this))throw new Error("Library not initialized! Please initialize the library first.");return p.default.validateSearchCategoryQueryParams(e),this.stockApis.searchCategory(e)}},{key:"searchCategoryTree",value:function(e){if(!i.call(this))throw new Error("Library not initialized! Please initialize the library first.");return p.default.validateSearchCategoryTreeQueryParams(e),this.stockApis.searchCategoryTree(e)}},{key:"accessMemberProfile",value:function(e,t,r,n){if(!i.call(this))throw new Error("Library not initialized! Please initialize the library first.");if(P.default.validateMemberProfileLicenseParams(e,t,r),n&&"string"!=typeof n)throw new Error("locale expects string only. For e.g. en-US, fr-FR etc.!");return this.stockApis.accessMemberProfile(e,t,r,n)}},{key:"memberAbandonLicensing",value:function(e,t,r){if(!i.call(this))throw new Error("Library not initialized! Please initialize the library first.");return P.default.validateMemberAbandonLicenseParams(e,t,r),this.stockApis.memberAbandon(e,t,r)}},{key:"getLicenseInfoForContent",value:function(e,t,r){if(!i.call(this))throw new Error("Library not initialized! Please initialize the library first.");return P.default.validateContentLicenseParams(e,t,r),this.stockApis.licenseInfo(e,t,r)}},{key:"requestLicenseForContent",value:function(e,t,r){if(!i.call(this))throw new Error("Library not initialized! Please initialize the library first.");return P.default.validateContentLicenseParams(e,t,r),this.stockApis.requestLicense(e,t,r)}},{key:"downloadAsset",value:function(e,t,r){if(!i.call(this))throw new Error("Library not initialized! Please initialize the library first.");return P.default.validateContentLicenseParams(e,t,r),this.stockApis.downloadAsset(e,t,r)}}],[{key:"ENVIRONMENT",get:function(){return y.default.ENVIRONMENT}},{key:"QUERY_PARAMS_PROPS",get:function(){return y.default.QUERY_PARAMS_PROPS}},{key:"SEARCH_PARAMS",get:function(){return y.default.SEARCH_PARAMS}},{key:"LICENSE_HISTORY_SEARCH_PARAMS",get:function(){return y.default.LICENSE_HISTORY_SEARCH_PARAMS}},{key:"SEARCH_PARAMS_TYPE",get:function(){return y.default.SEARCH_PARAMS_TYPE}},{key:"SEARCH_PARAMS_ORDER",get:function(){return y.default.SEARCH_PARAMS_ORDER}},{key:"SEARCH_PARAMS_ORIENTATION",get:function(){return y.default.SEARCH_PARAMS_ORIENTATION}},{key:"SEARCH_PARAMS_HAS_RELEASES",get:function(){return y.default.SEARCH_PARAMS_HAS_RELEASES}},{key:"SEARCH_PARAMS_3D_TYPES",get:function(){return y.default.SEARCH_PARAMS_3D_TYPES}},{key:"SEARCH_PARAMS_TEMPLATE_CATEGORIES",get:function(){return y.default.SEARCH_PARAMS_TEMPLATE_CATEGORIES}},{key:"SEARCH_PARAMS_TEMPLATE_TYPES",get:function(){return y.default.SEARCH_PARAMS_TEMPLATE_TYPES}},{key:"SEARCH_PARAMS_THUMB_SIZES",get:function(){return y.default.SEARCH_PARAMS_THUMB_SIZES}},{key:"SEARCH_PARAMS_AGE",get:function(){return y.default.SEARCH_PARAMS_AGE}},{key:"SEARCH_PARAMS_VIDEO_DURATION",get:function(){return y.default.SEARCH_PARAMS_VIDEO_DURATION}},{key:"SEARCH_PARAMS_PREMIUM",get:function(){return y.default.SEARCH_PARAMS_PREMIUM}},{key:"RESULT_COLUMNS",get:function(){return y.default.RESULT_COLUMNS}},{key:"LICENSE_HISTORY_RESULT_COLUMNS",get:function(){return y.default.LICENSE_HISTORY_RESULT_COLUMNS}},{key:"LICENSE_STATE_PARAMS",get:function(){return y.default.LICENSE_STATE_PARAMS}},{key:"PURCHASE_STATE_PARAMS",get:function(){return y.default.PURCHASE_STATE_PARAMS}}]),e}();e.exports=I}]);
//# sourceMappingURL=adobestocklib.min.js.map